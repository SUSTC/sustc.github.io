# 校园巴士 - 工作日 (2020年5月15日更新)

## 欣园 → 科研楼（共132班）

**欣园**⇋**慧园**⇋（荔园←）【创园⇋】（慧园←）**荔园**⇋**学生宿舍**⇋【社康中心⇋】**教工餐厅**⇋【专家公寓⇋三号门⇋一号门⇋行政楼⇋】**七号门**⇋**科研楼**

* （此区间，单向停靠）
* 【此区间，高峰线越站】

{% raw %}

<div id="bus-table-hl2rb">
    <table class="dataTable" id="work-bus-hl2rb">
    </table>
</div>

<script type="text/javascript">
    var busdata_hl2rb= [
        ['07:00', '', ''],
        ['07:05', '', ''],
        ['07:10', '', ''],
        ['07:15', '高峰', ''],
        ['07:20', '', ''],
        ['07:23', '高峰', ''],
        ['07:26', '高峰', ''],
        ['07:29', '', ''],
        ['07:32', '高峰', ''],
        ['07:36', '高峰', ''],
        ['07:41', '高峰', ''],
        ['07:44', '高峰', ''],
        ['07:47', '高峰', ''],
        ['07:50', '高峰', ''],
        ['07:55', '', ''],
        ['08:00', '', ''],
        ['08:05', '', ''],
        ['08:08', '', ''],
        ['08:10', '', ''],
        ['08:15', '', ''],
        ['08:20', '', ''],
        ['08:23', '', ''],
        ['08:25', '', ''],
        ['08:30', '', ''],
        ['08:35', '', ''],
        ['08:37', '', ''],
        ['08:40', '', ''],
        ['08:45', '', ''],
        ['08:50', '', ''],
        ['08:55', '', ''],
        ['08:57', '', ''],
        ['09:00', '', ''],
        ['09:05', '', ''],
        ['09:15', '', ''],
        ['09:20', '', ''],
        ['09:25', '', ''],
        ['09:30', '', ''],
        ['09:35', '', ''],
        ['09:40', '', ''],
        ['09:43', '高峰', ''],
        ['09:46', '高峰', ''],
        ['09:50', '', ''],
        ['09:53', '高峰', ''],
        ['09:56', '高峰', ''],
        ['10:00', '', ''],
        ['10:10', '', ''],
        ['10:20', '', ''],
        ['10:25', '', ''],
        ['10:30', '', ''],
        ['10:40', '', ''],
        ['10:50', '', ''],
        ['11:00', '', ''],
        ['11:10', '', ''],
        ['11:15', '', ''],
        ['11:30', '', ''],
        ['11:45', '', ''],
        ['11:50', '', ''],
        ['11:55', '', ''],
        ['12:00', '', ''],
        ['12:05', '高峰', ''],
        ['12:10', '', ''],
        ['12:16', '高峰', ''],
        ['12:20', '', ''],
        ['12:23', '高峰', ''],
        ['12:26', '高峰', ''],
        ['12:30', '', ''],
        ['12:35', '高峰', ''],
        ['12:40', '', ''],
        ['12:50', '', ''],
        ['13:00', '', ''],
        ['13:15', '', ''],
        ['13:20', '', ''],
        ['13:25', '高峰', ''],
        ['13:30', '', ''],
        ['13:36', '高峰', ''],
        ['13:40', '高峰', ''],
        ['13:40', '', ''],
        ['13:45', '高峰', ''],
        ['13:50', '', ''],
        ['13:55', '高峰', ''],
        ['14:00', '', ''],
        ['14:15', '', ''],
        ['14:30', '', ''],
        ['14:40', '', ''],
        ['14:50', '', ''],
        ['15:00', '', ''],
        ['15:15', '', ''],
        ['15:30', '', ''],
        ['15:40', '高峰', ''],
        ['15:50', '', ''],
        ['15:53', '高峰', ''],
        ['16:00', '高峰', ''],
        ['16:05', '高峰', ''],
        ['16:10', '', ''],
        ['16:20', '', ''],
        ['16:40', '', ''],
        ['16:50', '', ''],
        ['17:00', '', ''],
        ['17:15', '', ''],
        ['17:20', '', ''],
        ['17:30', '', ''],
        ['17:35', '', ''],
        ['17:40', '', ''],
        ['17:42', '', ''],
        ['17:45', '', ''],
        ['17:50', '', ''],
        ['17:55', '', ''],
        ['18:00', '', ''],
        ['18:05', '', ''],
        ['18:10', '', ''],
        ['18:15', '', ''],
        ['18:20', '', ''],
        ['18:25', '高峰', ''],
        ['18:25', '', ''],
        ['18:30', '', ''],
        ['18:35', '', ''],
        ['18:40', '', ''],
        ['18:45', '', ''],
        ['18:50', '', ''],
        ['19:00', '', ''],
        ['19:10', '', ''],
        ['19:20', '', ''],
        ['19:30', '', ''],
        ['19:45', '', ''],
        ['20:00', '', ''],
        ['20:20', '', ''],
        ['20:30', '', ''],
        ['20:40', '', ''],
        ['21:00', '', ''],
        ['21:20', '', ''],
        ['21:30', '', ''],
        ['21:40', '', ''],

    ];
    var busdata_rb2hl = [
        ['07:20', '', ''],
        ['07:25', '', ''],
        ['07:30', '', ''],
        ['07:35', '高峰', ''],
        ['07:40', '', ''],
        ['07:43', '高峰', ''],
        ['07:46', '', ''],
        ['07:50', '', ''],
        ['07:55', '高峰', ''],
        ['08:00', '', ''],
        ['08:03', '', ''],
        ['08:06', '', ''],
        ['08:10', '', ''],
        ['08:15', '', ''],
        ['18:19', '', ''],
        ['08:22', '', ''],
        ['08:25', '', ''],
        ['08:28', '', ''],
        ['08:34', '', ''],
        ['08:38', '', ''],
        ['08:42', '', ''],
        ['08:45', '', ''],
        ['08:48', '', ''],
        ['08:52', '', ''],
        ['08:55', '', ''],
        ['08:58', '', ''],
        ['09:02', '', ''],
        ['09:05', '', ''],
        ['09:10', '', ''],
        ['09:15', '', ''],
        ['09:20', '', ''],
        ['09:25', '', ''],
        ['09:30', '', ''],
        ['09:40', '', ''],
        ['09:45', '', ''],
        ['09:50', '', ''],
        ['09:55', '高峰', ''],
        ['09:55', '高峰', ''],
        ['10:00', '高峰', ''],
        ['10:05', '高峰', ''],
        ['10:05', '', ''],
        ['10:10', '', ''],
        ['10:20', '', ''],
        ['10:25', '', ''],
        ['10:30', '', ''],
        ['10:40', '', ''],
        ['10:45', '', ''],
        ['10:50', '', ''],
        ['11:00', '', ''],
        ['11:15', '', ''],
        ['11:30', '', ''],
        ['11:40', '', ''],
        ['11:45', '', ''],
        ['11:50', '', ''],
        ['12:00', '', ''],
        ['12:05', '高峰', ''],
        ['12:10', '', ''],
        ['12:16', '高峰', ''],
        ['12:19', '高峰', ''],
        ['12:20', '', ''],
        ['12:25', '高峰', ''],
        ['12:30', '', ''],
        ['12:36', '高峰', ''],
        ['12:40', '高峰', ''],
        ['12:45', '', ''],
        ['12:50', '高峰', ''],
        ['12:55', '', ''],
        ['13:00', '', ''],
        ['13:15', '', ''],
        ['13:30', '', ''],
        ['13:40', '', ''],
        ['13:45', '高峰', ''],
        ['13:50', '', ''],
        ['13:56', '高峰', ''],
        ['13:59', '高峰', ''],
        ['14:00', '', ''],
        ['14:10', '', ''],
        ['14:15', '高峰', ''],
        ['14:20', '', ''],
        ['14:30', '', ''],
        ['14:40', '', ''],
        ['14:50', '', ''],
        ['15:00', '', ''],
        ['15:10', '', ''],
        ['15:20', '', ''],
        ['15:40', '', ''],
        ['15:50', '高峰', ''],
        ['16:00', '', ''],
        ['16:06', '高峰', ''],
        ['16:10', '高峰', ''],
        ['16:20', '', ''],
        ['16:30', '', ''],
        ['16:45', '', ''],
        ['17:00', '', ''],
        ['17:10', '', ''],
        ['17:20', '', ''],
        ['17:30', '', ''],
        ['17:40', '', ''],
        ['17:50', '', ''],
        ['18:00', '', ''],
        ['18:06', '高峰', ''],
        ['18:10', '', ''],
        ['18:16', '高峰', ''],
        ['18:20', '高峰', ''],
        ['18:20', '', ''],
        ['18:25', '高峰', ''],
        ['18:30', '', ''],
        ['18:40', '', ''],
        ['18:45', '高峰', ''],
        ['18:50', '', ''],
        ['19:00', '', ''],
        ['19:20', '', ''],
        ['19:40', '', ''],
        ['19:50', '', ''],
        ['20:00', '', ''],
        ['20:20', '', ''],
        ['20:40', '', ''],
        ['20:55', '高峰', ''],
        ['21:00', '', ''],
        ['21:03', '高峰', ''],
        ['21:20', '', ''],
        ['21:58', '高峰', ''],
        ['22:00', '高峰', ''],
        ['22:00', '', ''],
        ['22:10', '高峰', ''],
        ['22:30', '', '']

    ];
    function getTime(MinBefore) {
        var date = new Date();
        date.setMinutes(date.getMinutes() - MinBefore);
        var h = date.getHours();
        var hour = (h < 10) ? "0" + h : h;
        var m = date.getMinutes();
        var min = (m < 10) ? "0" + m : m;
        return hour + ":" + min;
    }
    var now_20 = getTime(20);
    var now = getTime(0);

    var now_bus_row_hl2rb = 0;
    for(var i = 0, len = busdata_hl2rb.length; i < len; i++){
        if (busdata_hl2rb[i][0] < now_20) {
            busdata_hl2rb[i][2] = "已到达";
            now_bus_row_hl2rb = i;
        }else if (busdata_hl2rb[i][0] < now) {
            busdata_hl2rb[i][2] = "在途中";
        }else{
            busdata_hl2rb[i][2] = "未发车";
        }
    }
    
</script>

{% endraw %}

## 科研楼 → 欣园（共126班）

{% raw %}
<div id="bus-table-rb2hl">
    <table class="dataTable" id="work-bus-rb2hl">
    </table>
</div>

<script type="text/javascript">
    var now_bus_row_rb2hl = 0;
    for(var i = 0, len = busdata_rb2hl.length; i < len; i++){
        if (busdata_rb2hl[i][0] < now_20) {
            busdata_rb2hl[i][2] = "已到达";
            now_bus_row_rb2hl = i;
        }else if (busdata_rb2hl[i][0] < now) {
            busdata_rb2hl[i][2] = "在途中";
        }else{
            busdata_rb2hl[i][2] = "未发车";
        }
    }

</script>
{% endraw %}

## 智园 → 教工食堂 → 荔园（共2班）

{% raw %}
<div id="bus-table-ip2lh">
    <table class="dataTable" id="work-bus-ip2lh">
    </table>
</div>

<script type="text/javascript">
    var busdata_ip2lh = [
        ["11:50","",""],
        ["17:45","",""],
    ];
    var now_bus_row_ip2lh = 0;
    for(var i = 0, len = busdata_ip2lh.length; i < len; i++){
        if (busdata_ip2lh[i][0] < now_20) {
            busdata_ip2lh[i][2] = "已到达";
            now_bus_row_ip2lh = i;
        }else if (busdata_ip2lh[i][0] < now) {
            busdata_ip2lh[i][2] = "在途中";
        }else{
            busdata_ip2lh[i][2] = "未发车";
        }
    }

    function build_all_table(){
        if ( $.fn.DataTable.isDataTable( '#hl2rb' ) ) {
            return;
        }
        // high land - research building
        var ins_table_hl2rb = $('#work-bus-hl2rb').DataTable( {
            data: busdata_hl2rb,
            scrollY: 300,
            paging: false,
            searching : false,
            bFilter: false,
            info: false,
            columns: [
                { title: "发车时间" },
                { title: "平时/高峰", "orderable": false },
                { title: "状态", "orderable": false },
            ],
            rowCallback: function( row, data, index ) {
                if ( data[2] == "已到达" )
                {
                    $('td', row).css('background-color', '#003f43'); // SUSTech dark green
                    $('td', row).css('color', '#FFFFFF');
                }
                else if ( data[2] == "在途中" )
                {
                    $('td', row).css('background-color', '#ed6c00'); // SUSTech orange
                    $('td', row).each(function(){
                        $(this).html( '<b>'+$(this).text()+'</b>');
                    });
                }
            }
        } );
        var now_bus_offset =$(ins_table_hl2rb.row(Math.min(now_bus_row_hl2rb, busdata_hl2rb.length)).node()).offset().top - $(ins_table_hl2rb.row(0).node()).offset().top;
        $("#bus-table-hl2rb .dataTables_scrollBody").scrollTop(now_bus_offset);

        // research building - high land
        var ins_table_rb2hl = $('#work-bus-rb2hl').DataTable( {
            data: busdata_rb2hl,
            scrollY: 300,
            paging: false,
            searching : false,
            bFilter: false,
            info: false,
            columns: [
                { title: "发车时间" },
                { title: "平时/高峰", "orderable": false },
                { title: "状态", "orderable": false },
            ],
            rowCallback: function( row, data, index ) {
                if ( data[2] == "已到达" )
                {
                    $('td', row).css('background-color', '#003f43'); // SUSTech dark green
                    $('td', row).css('color', '#FFFFFF');
                }
                else if ( data[2] == "在途中" )
                {
                    $('td', row).css('background-color', '#ed6c00'); // SUSTech orange
                    $('td', row).each(function(){
                        $(this).html( '<b>'+$(this).text()+'</b>');
                    });
                }
            }
        } );
        var now_bus_offset =$(ins_table_rb2hl.row(Math.min(now_bus_row_rb2hl, busdata_rb2hl.length)).node()).offset().top - $(ins_table_rb2hl.row(0).node()).offset().top;
        $("#bus-table-rb2hl .dataTables_scrollBody").scrollTop(now_bus_offset);

        // // lychee hill - ji yue cheng
        // var ins_table_lh2jyc = $('#work-bus-lh2jyc').DataTable( {
        //     data: busdata_lh2jyc,
        //     scrollY: 300,
        //     paging: false,
        //     searching : false,
        //     bFilter: false,
        //     info: false,
        //     columns: [
        //         { title: "发车时间" },
        //         { title: "平时/高峰", "orderable": false },
        //         { title: "状态", "orderable": false },
        //     ],
        //     rowCallback: function( row, data, index ) {
        //         if ( data[2] == "已到达" )
        //         {
        //             $('td', row).css('background-color', '#003f43'); // SUSTech dark green
        //             $('td', row).css('color', '#FFFFFF');
        //         }
        //         else if ( data[2] == "在途中" )
        //         {
        //             $('td', row).css('background-color', '#ed6c00'); // SUSTech orange
        //             $('td', row).each(function(){
        //                 $(this).html( '<b>'+$(this).text()+'</b>');
        //             });
        //         }
        //     }
        // } );
        // var now_bus_offset =$(ins_table_lh2jyc.row(Math.min(now_bus_row_lh2jyc, busdata_lh2jyc.length)).node()).offset().top - $(ins_table_lh2jyc.row(0).node()).offset().top;
        // $("#bus-table-lh2jyc .dataTables_scrollBody").scrollTop(now_bus_offset);

        // // ji yue cheng - lychee hill
        // var ins_table_jyc2lh = $('#work-bus-jyc2lh').DataTable( {
        //     data: busdata_jyc2lh,
        //     scrollY: 300,
        //     paging: false,
        //     searching : false,
        //     bFilter: false,
        //     info: false,
        //     columns: [
        //         { title: "发车时间" },
        //         { title: "平时/高峰", "orderable": false },
        //         { title: "状态", "orderable": false },
        //     ],
        //     rowCallback: function( row, data, index ) {
        //         if ( data[2] == "已到达" )
        //         {
        //             $('td', row).css('background-color', '#003f43'); // SUSTech dark green
        //             $('td', row).css('color', '#FFFFFF');
        //         }
        //         else if ( data[2] == "在途中" )
        //         {
        //             $('td', row).css('background-color', '#ed6c00'); // SUSTech orange
        //             $('td', row).each(function(){
        //                 $(this).html( '<b>'+$(this).text()+'</b>');
        //             });
        //         }
        //     }
        // } );
        // var now_bus_offset =$(ins_table_jyc2lh.row(Math.min(now_bus_row_jyc2lh, busdata_jyc2lh.length)).node()).offset().top - $(ins_table_jyc2lh.row(0).node()).offset().top;
        // $("#bus-table-jyc2lh .dataTables_scrollBody").scrollTop(now_bus_offset);

        // i park - lychee hill
        var ins_table_ip2lh = $('#work-bus-ip2lh').DataTable( {
            data: busdata_ip2lh,
            scrollY: 300,
            paging: false,
            searching : false,
            bFilter: false,
            info: false,
            columns: [
                { title: "发车时间" },
                { title: "平时/高峰", "orderable": false },
                { title: "状态", "orderable": false },
            ],
            rowCallback: function( row, data, index ) {
                if ( data[2] == "已到达" )
                {
                    $('td', row).css('background-color', '#003f43'); // SUSTech dark green
                    $('td', row).css('color', '#FFFFFF');
                }
                else if ( data[2] == "在途中" )
                {
                    $('td', row).css('background-color', '#ed6c00'); // SUSTech orange
                    $('td', row).each(function(){
                        $(this).html( '<b>'+$(this).text()+'</b>');
                    });
                }
            }
        } );
        var now_bus_offset =$(ins_table_ip2lh.row(Math.min(now_bus_row_ip2lh, busdata_ip2lh.length)).node()).offset().top - $(ins_table_ip2lh.row(0).node()).offset().top;
        $("#bus-table-ip2lh .dataTables_scrollBody").scrollTop(now_bus_offset);
    }

    document.addEventListener('DOMContentLoaded', build_all_table, false);

    $(document).ready(function(){
        build_all_table();
    });

</script>
{% endraw %}

## 参考文献

* 2020年5月15日 `校园服务办公室 <ocs@sustech.edu.cn>` 邮件《【工作通知】关于调整校园巴士运行时刻的通知 Notice on Adjustment of Campus Bus Schedule【2020】22号》
    * [下载链接](./Campus_Bus_Schedule_2020.pdf)（右键 / 长按保存）

* 2019年9月29日 `校园服务办公室 <ocs@sustech.edu.cn>` 邮件《关于调整校园巴士运行时刻及路线的通知 Notice on Adjustment of Campus Bus Schedule and Routes【2019】39号》
    * [下载链接](./Campus_Bus_Schedule_1939.pdf)（右键 / 长按保存）

* 2019年8月30日 `校园服务办公室 <ocs@sustech.edu.cn>` 邮件《关于调整校园巴士运行时刻及路线的通知 Notice on Adjustment of Campus Bus Schedule and Routes【2019】30号》
    * [下载链接](./Campus_Bus_Schedule_1930.pdf)（右键 / 长按保存）

* 2019年5月16日 `校园服务办公室 <ocs@sustech.edu.cn>` 邮件《关于调整校园巴士运行时刻的通知 Notification about Adjustments of the Campus Bus Schedule【2019】12号》
    * [下载链接](./Campus_Bus_Schedule_1912.pdf)（右键 / 长按保存）

* 2018年12月29日 `校园服务办公室 <ocs@sustc.edu.cn>` 邮件《关于调整校园巴士运行时刻的通知 Notification about Adjustments of the Campus Bus Schedule【2018】50号》
    * [下载链接](./Campus_Bus_Schedule_1850.pdf)（右键 / 长按保存）

* 2018年9月29日 `校园服务办公室 <ocs@sustc.edu.cn>` 邮件《通知：调整校园巴士运行时刻 Notification: Adjustments of the Campus Bus Schedule【2018】31号》
    * [下载链接](./Campus_Bus_Schedule_1831.pdf)（右键 / 长按保存）
